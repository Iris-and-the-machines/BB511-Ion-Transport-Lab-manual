<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 9 R instructions and help to solve p-R-oblems | BB511 Manual Ion Transport Lab Exercise</title>
  <meta name="description" content="This is the lab manual for the lab exercise “Ion Transport over the frog skin” for the course BB511 Zoophysiology at SDU." />
  <meta name="generator" content="bookdown 0.43 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 9 R instructions and help to solve p-R-oblems | BB511 Manual Ion Transport Lab Exercise" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This is the lab manual for the lab exercise “Ion Transport over the frog skin” for the course BB511 Zoophysiology at SDU." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 9 R instructions and help to solve p-R-oblems | BB511 Manual Ion Transport Lab Exercise" />
  
  <meta name="twitter:description" content="This is the lab manual for the lab exercise “Ion Transport over the frog skin” for the course BB511 Zoophysiology at SDU." />
  

<meta name="author" content="Iris Adam" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="analyzing-your-data.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Ion Transport Lab Manual</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> About</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#usage"><i class="fa fa-check"></i><b>1.1</b> Usage</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="background-information.html"><a href="background-information.html"><i class="fa fa-check"></i><b>2</b> Background information</a>
<ul>
<li class="chapter" data-level="2.1" data-path="background-information.html"><a href="background-information.html#a-bit-of-history"><i class="fa fa-check"></i><b>2.1</b> A bit of history</a></li>
<li class="chapter" data-level="2.2" data-path="background-information.html"><a href="background-information.html#about-ussing"><i class="fa fa-check"></i><b>2.2</b> About Ussing</a></li>
<li class="chapter" data-level="2.3" data-path="background-information.html"><a href="background-information.html#the-frogs-problem"><i class="fa fa-check"></i><b>2.3</b> The frogs problem</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="setting-up-your-equipment.html"><a href="setting-up-your-equipment.html"><i class="fa fa-check"></i><b>3</b> Setting up your equipment</a>
<ul>
<li class="chapter" data-level="3.1" data-path="setting-up-your-equipment.html"><a href="setting-up-your-equipment.html#building-and-powering-up-your-setup"><i class="fa fa-check"></i><b>3.1</b> Building and powering up your setup</a></li>
<li class="chapter" data-level="3.2" data-path="setting-up-your-equipment.html"><a href="setting-up-your-equipment.html#get-familiar-with-the-two-measuring-modes"><i class="fa fa-check"></i><b>3.2</b> Get familiar with the two measuring modes</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="setting-up-your-equipment.html"><a href="setting-up-your-equipment.html#measure-voltage"><i class="fa fa-check"></i><b>3.2.1</b> Measure Voltage</a></li>
<li class="chapter" data-level="3.2.2" data-path="setting-up-your-equipment.html"><a href="setting-up-your-equipment.html#measure-current"><i class="fa fa-check"></i><b>3.2.2</b> Measure Current</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="setting-up-your-equipment.html"><a href="setting-up-your-equipment.html#account-for-electrode-asymmetry"><i class="fa fa-check"></i><b>3.3</b> Account for electrode asymmetry</a></li>
<li class="chapter" data-level="3.4" data-path="setting-up-your-equipment.html"><a href="setting-up-your-equipment.html#account-for-fluid-resistance"><i class="fa fa-check"></i><b>3.4</b> Account for fluid resistance</a></li>
<li class="chapter" data-level="3.5" data-path="setting-up-your-equipment.html"><a href="setting-up-your-equipment.html#mount-skin-sample"><i class="fa fa-check"></i><b>3.5</b> Mount skin sample</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="experiment-1-determine-the-epithelial-resistance.html"><a href="experiment-1-determine-the-epithelial-resistance.html"><i class="fa fa-check"></i><b>4</b> Experiment 1: Determine the epithelial resistance</a>
<ul>
<li class="chapter" data-level="4.1" data-path="experiment-1-determine-the-epithelial-resistance.html"><a href="experiment-1-determine-the-epithelial-resistance.html#take-measurements"><i class="fa fa-check"></i><b>4.1</b> Take measurements</a></li>
<li class="chapter" data-level="4.2" data-path="experiment-1-determine-the-epithelial-resistance.html"><a href="experiment-1-determine-the-epithelial-resistance.html#data-analysis"><i class="fa fa-check"></i><b>4.2</b> Data analysis</a></li>
<li class="chapter" data-level="4.3" data-path="experiment-1-determine-the-epithelial-resistance.html"><a href="experiment-1-determine-the-epithelial-resistance.html#discussion"><i class="fa fa-check"></i><b>4.3</b> Discussion</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="experiment-2-concentration-dependence-of-ion-transport.html"><a href="experiment-2-concentration-dependence-of-ion-transport.html"><i class="fa fa-check"></i><b>5</b> Experiment 2: Concentration dependence of ion transport</a>
<ul>
<li class="chapter" data-level="5.1" data-path="experiment-2-concentration-dependence-of-ion-transport.html"><a href="experiment-2-concentration-dependence-of-ion-transport.html#preparation"><i class="fa fa-check"></i><b>5.1</b> Preparation</a></li>
<li class="chapter" data-level="5.2" data-path="experiment-2-concentration-dependence-of-ion-transport.html"><a href="experiment-2-concentration-dependence-of-ion-transport.html#take-measurements-1"><i class="fa fa-check"></i><b>5.2</b> Take measurements</a></li>
<li class="chapter" data-level="5.3" data-path="experiment-2-concentration-dependence-of-ion-transport.html"><a href="experiment-2-concentration-dependence-of-ion-transport.html#data-analysis-1"><i class="fa fa-check"></i><b>5.3</b> Data Analysis</a></li>
<li class="chapter" data-level="5.4" data-path="experiment-2-concentration-dependence-of-ion-transport.html"><a href="experiment-2-concentration-dependence-of-ion-transport.html#discussion-1"><i class="fa fa-check"></i><b>5.4</b> Discussion</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="experiment-3-influence-of-chloride-ions.html"><a href="experiment-3-influence-of-chloride-ions.html"><i class="fa fa-check"></i><b>6</b> Experiment 3: Influence of chloride ions</a>
<ul>
<li class="chapter" data-level="6.1" data-path="experiment-3-influence-of-chloride-ions.html"><a href="experiment-3-influence-of-chloride-ions.html#take-measurements-2"><i class="fa fa-check"></i><b>6.1</b> Take measurements</a></li>
<li class="chapter" data-level="6.2" data-path="experiment-3-influence-of-chloride-ions.html"><a href="experiment-3-influence-of-chloride-ions.html#discussion-2"><i class="fa fa-check"></i><b>6.2</b> Discussion</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="instructions-for-your-lab-report.html"><a href="instructions-for-your-lab-report.html"><i class="fa fa-check"></i><b>7</b> Instructions for your lab report</a>
<ul>
<li class="chapter" data-level="7.1" data-path="instructions-for-your-lab-report.html"><a href="instructions-for-your-lab-report.html#questions-and-points-that-should-be-adressed-in-the-report"><i class="fa fa-check"></i><b>7.1</b> Questions and points that should be adressed in the report</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="analyzing-your-data.html"><a href="analyzing-your-data.html"><i class="fa fa-check"></i><b>8</b> Analyzing your data</a>
<ul>
<li class="chapter" data-level="8.1" data-path="analyzing-your-data.html"><a href="analyzing-your-data.html#experiment-1"><i class="fa fa-check"></i><b>8.1</b> Experiment 1:</a></li>
<li class="chapter" data-level="8.2" data-path="analyzing-your-data.html"><a href="analyzing-your-data.html#experiment-2"><i class="fa fa-check"></i><b>8.2</b> Experiment 2:</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="analyzing-your-data.html"><a href="analyzing-your-data.html#extract-vmax-and-km-using-nonlinear-curve-fitting."><i class="fa fa-check"></i><b>8.2.1</b> Extract V<sub>max</sub> and K<sub>m</sub> using nonlinear curve fitting.</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="analyzing-your-data.html"><a href="analyzing-your-data.html#experiment-3"><i class="fa fa-check"></i><b>8.3</b> Experiment 3</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="r-instructions-and-help-to-solve-p-r-oblems.html"><a href="r-instructions-and-help-to-solve-p-r-oblems.html"><i class="fa fa-check"></i><b>9</b> R instructions and help to solve p-R-oblems</a>
<ul>
<li class="chapter" data-level="9.1" data-path="r-instructions-and-help-to-solve-p-r-oblems.html"><a href="r-instructions-and-help-to-solve-p-r-oblems.html#how-to"><i class="fa fa-check"></i><b>9.1</b> How to…</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="r-instructions-and-help-to-solve-p-r-oblems.html"><a href="r-instructions-and-help-to-solve-p-r-oblems.html#reading"><i class="fa fa-check"></i><b>9.1.1</b> Read in data</a></li>
<li class="chapter" data-level="9.1.2" data-path="r-instructions-and-help-to-solve-p-r-oblems.html"><a href="r-instructions-and-help-to-solve-p-r-oblems.html#plotting"><i class="fa fa-check"></i><b>9.1.2</b> Plot your data</a></li>
<li class="chapter" data-level="9.1.3" data-path="r-instructions-and-help-to-solve-p-r-oblems.html"><a href="r-instructions-and-help-to-solve-p-r-oblems.html#averaging"><i class="fa fa-check"></i><b>9.1.3</b> Averaging by group</a></li>
<li class="chapter" data-level="9.1.4" data-path="r-instructions-and-help-to-solve-p-r-oblems.html"><a href="r-instructions-and-help-to-solve-p-r-oblems.html#setwd"><i class="fa fa-check"></i><b>9.1.4</b> Set your working directory to a different folder</a></li>
<li class="chapter" data-level="9.1.5" data-path="r-instructions-and-help-to-solve-p-r-oblems.html"><a href="r-instructions-and-help-to-solve-p-r-oblems.html#write-and-troubleshoot-a-new-script"><i class="fa fa-check"></i><b>9.1.5</b> Write and troubleshoot a new script</a></li>
<li class="chapter" data-level="9.1.6" data-path="r-instructions-and-help-to-solve-p-r-oblems.html"><a href="r-instructions-and-help-to-solve-p-r-oblems.html#change-the-type-of-data-in-a-column"><i class="fa fa-check"></i><b>9.1.6</b> Change the type of data in a column</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="r-instructions-and-help-to-solve-p-r-oblems.html"><a href="r-instructions-and-help-to-solve-p-r-oblems.html#common-error-messages-and-how-to-solve-them"><i class="fa fa-check"></i><b>9.2</b> Common error messages and how to solve them</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="r-instructions-and-help-to-solve-p-r-oblems.html"><a href="r-instructions-and-help-to-solve-p-r-oblems.html#e1"><i class="fa fa-check"></i><b>9.2.1</b> Cannot open the connection</a></li>
<li class="chapter" data-level="9.2.2" data-path="r-instructions-and-help-to-solve-p-r-oblems.html"><a href="r-instructions-and-help-to-solve-p-r-oblems.html#my-code-doesnt-do-what-it-should-or-fails-with-cryptic-message"><i class="fa fa-check"></i><b>9.2.2</b> My code doesn’t do what it should or fails with cryptic message</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">BB511 Manual Ion Transport Lab Exercise</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="r-instructions-and-help-to-solve-p-r-oblems" class="section level1 hasAnchor" number="9">
<h1><span class="header-section-number">Chapter 9</span> R instructions and help to solve p-R-oblems<a href="r-instructions-and-help-to-solve-p-r-oblems.html#r-instructions-and-help-to-solve-p-r-oblems" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="how-to" class="section level2 hasAnchor" number="9.1">
<h2><span class="header-section-number">9.1</span> How to…<a href="r-instructions-and-help-to-solve-p-r-oblems.html#how-to" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="reading" class="section level3 hasAnchor" number="9.1.1">
<h3><span class="header-section-number">9.1.1</span> Read in data<a href="r-instructions-and-help-to-solve-p-r-oblems.html#reading" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Depending on how your computer is set up, csv files require different settings to read in.
A CSV file is simply a text file, where columns are separated by one sign and the decimal point is indicated by another. In English speaking countries and most scientific data you can download from the internet, columns are separated by a comma “,” and the decimal point is a “.”. The default in other European countries, including Denmark, is to use a semikolon “;” to separate columns and a comma “,” as decimal point.</p>
<p><img src="images/CSV%20comparison.PNG" width="306" /></p>
<p>Depending on which settings your computer follows, you will have to read in csv files using two different functions:</p>
<p>Reading in data from “Danish files”:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="r-instructions-and-help-to-solve-p-r-oblems.html#cb9-1" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read.csv2</span>(<span class="st">&quot;folder/myfile.csv&quot;</span>)</span></code></pre></div>
<p>Reading in data from “English files”:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="r-instructions-and-help-to-solve-p-r-oblems.html#cb10-1" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;folder/myfile.csv&quot;</span>)</span></code></pre></div>
<p>Many errors are related to this step.
See <a href="r-instructions-and-help-to-solve-p-r-oblems.html#e1">9.2.1</a></p>
</div>
<div id="plotting" class="section level3 hasAnchor" number="9.1.2">
<h3><span class="header-section-number">9.1.2</span> Plot your data<a href="r-instructions-and-help-to-solve-p-r-oblems.html#plotting" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The basic plot command in R is plot().
You HAVE to tell the function:
- what to put on the x-axis,
- and the y-axis,
And you CAN tell the function additionally:
- which type of plot you want,
- what the axis labels should be and
- the min and max points of the axes.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="r-instructions-and-help-to-solve-p-r-oblems.html#cb11-1" tabindex="-1"></a><span class="fu">plot</span>(<span class="at">x =</span> data1<span class="sc">$</span>time, </span>
<span id="cb11-2"><a href="r-instructions-and-help-to-solve-p-r-oblems.html#cb11-2" tabindex="-1"></a>     <span class="at">y =</span> data1<span class="sc">$</span>V, </span>
<span id="cb11-3"><a href="r-instructions-and-help-to-solve-p-r-oblems.html#cb11-3" tabindex="-1"></a>     </span>
<span id="cb11-4"><a href="r-instructions-and-help-to-solve-p-r-oblems.html#cb11-4" tabindex="-1"></a>     <span class="at">type =</span> <span class="st">&quot;l&quot;</span>,</span>
<span id="cb11-5"><a href="r-instructions-and-help-to-solve-p-r-oblems.html#cb11-5" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Time (min)&quot;</span>, </span>
<span id="cb11-6"><a href="r-instructions-and-help-to-solve-p-r-oblems.html#cb11-6" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">&quot;Potential difference (mV)&quot;</span>,</span>
<span id="cb11-7"><a href="r-instructions-and-help-to-solve-p-r-oblems.html#cb11-7" tabindex="-1"></a>     <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fu">max</span>(data1<span class="sc">$</span>V)))</span></code></pre></div>
</div>
<div id="averaging" class="section level3 hasAnchor" number="9.1.3">
<h3><span class="header-section-number">9.1.3</span> Averaging by group<a href="r-instructions-and-help-to-solve-p-r-oblems.html#averaging" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Often you want to calculate the average and standard deviation of a dataset by group. Below is one way of doing this for all data in one command using the aggregate function. You tell it how the average should be named (av_V), what it should be calculated from (data$V), and if there is a column that informs about the grouping (by = data$condition) and which function you want to apply(FUN = mean).</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="r-instructions-and-help-to-solve-p-r-oblems.html#cb12-1" tabindex="-1"></a><span class="co">#calculating all averages</span></span>
<span id="cb12-2"><a href="r-instructions-and-help-to-solve-p-r-oblems.html#cb12-2" tabindex="-1"></a>data_av <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(<span class="fu">list</span>(<span class="at">av_V =</span> data<span class="sc">$</span>V, </span>
<span id="cb12-3"><a href="r-instructions-and-help-to-solve-p-r-oblems.html#cb12-3" tabindex="-1"></a>                          <span class="at">av_R_cm2 =</span> data<span class="sc">$</span>R_cm2, </span>
<span id="cb12-4"><a href="r-instructions-and-help-to-solve-p-r-oblems.html#cb12-4" tabindex="-1"></a>                          <span class="at">av_I_cm2 =</span> data<span class="sc">$</span>I_cm2),</span>
<span id="cb12-5"><a href="r-instructions-and-help-to-solve-p-r-oblems.html#cb12-5" tabindex="-1"></a>                     <span class="fu">list</span>(data<span class="sc">$</span>condition), </span>
<span id="cb12-6"><a href="r-instructions-and-help-to-solve-p-r-oblems.html#cb12-6" tabindex="-1"></a>                     <span class="at">FUN =</span> mean )</span>
<span id="cb12-7"><a href="r-instructions-and-help-to-solve-p-r-oblems.html#cb12-7" tabindex="-1"></a></span>
<span id="cb12-8"><a href="r-instructions-and-help-to-solve-p-r-oblems.html#cb12-8" tabindex="-1"></a><span class="co">#calculating all standard deviations</span></span>
<span id="cb12-9"><a href="r-instructions-and-help-to-solve-p-r-oblems.html#cb12-9" tabindex="-1"></a>data_sd <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(<span class="fu">list</span>(<span class="at">sd_V =</span> data<span class="sc">$</span>V, </span>
<span id="cb12-10"><a href="r-instructions-and-help-to-solve-p-r-oblems.html#cb12-10" tabindex="-1"></a>                          <span class="at">sd_R_cm2 =</span> data<span class="sc">$</span>R_cm2, </span>
<span id="cb12-11"><a href="r-instructions-and-help-to-solve-p-r-oblems.html#cb12-11" tabindex="-1"></a>                          <span class="at">sd_I_cm2 =</span> data<span class="sc">$</span>I_cm2),</span>
<span id="cb12-12"><a href="r-instructions-and-help-to-solve-p-r-oblems.html#cb12-12" tabindex="-1"></a>                     <span class="fu">list</span>(data3<span class="sc">$</span>condition), </span>
<span id="cb12-13"><a href="r-instructions-and-help-to-solve-p-r-oblems.html#cb12-13" tabindex="-1"></a>                     <span class="at">FUN =</span> sd )</span>
<span id="cb12-14"><a href="r-instructions-and-help-to-solve-p-r-oblems.html#cb12-14" tabindex="-1"></a></span>
<span id="cb12-15"><a href="r-instructions-and-help-to-solve-p-r-oblems.html#cb12-15" tabindex="-1"></a><span class="co">#then we attach the sd columns to the table that has the means</span></span>
<span id="cb12-16"><a href="r-instructions-and-help-to-solve-p-r-oblems.html#cb12-16" tabindex="-1"></a>data_mean <span class="ot">&lt;-</span> <span class="fu">cbind</span>(data3_av, data3_sd[<span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>])</span></code></pre></div>
</div>
<div id="setwd" class="section level3 hasAnchor" number="9.1.4">
<h3><span class="header-section-number">9.1.4</span> Set your working directory to a different folder<a href="r-instructions-and-help-to-solve-p-r-oblems.html#setwd" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The working directory is the place “where R works from” at the moment. Files that are in that folder can be used by simply using their file name. If you need to change to a different folder, there are two ways:
1. commandline</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="r-instructions-and-help-to-solve-p-r-oblems.html#cb13-1" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">&quot;C:/Users/new/path/to/folder/you/want&quot;</span>)</span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Using R studio interface</li>
</ol>
<ol style="list-style-type: lower-alpha">
<li>Go to “Files”</li>
<li>Navigate to the folder you want to use as new working directory</li>
<li>Click on the settings wheel</li>
<li>Click “Select As Working Directory”</li>
<li>Done :)</li>
</ol>
</div>
<div id="write-and-troubleshoot-a-new-script" class="section level3 hasAnchor" number="9.1.5">
<h3><span class="header-section-number">9.1.5</span> Write and troubleshoot a new script<a href="r-instructions-and-help-to-solve-p-r-oblems.html#write-and-troubleshoot-a-new-script" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li>Think about what you want the code to do.</li>
<li>Identify the functions that you need.</li>
<li>Start writing your code.</li>
<li>Check if the code did what you expected after every step.
The last step is really important. You can run scripts without ever seeing your data and R will do whatever you tell it, no matter whether it makes sense or not. When writing new code, it is vital to check the result after each step.</li>
</ol>
<p>Usefull check are:
Simply view the data table or object you work on to see the result of your code</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="r-instructions-and-help-to-solve-p-r-oblems.html#cb14-1" tabindex="-1"></a><span class="fu">View</span>(df)</span></code></pre></div>
<p>Check if the table or column has the right type of data in it.</p>
<p>str() tells you what kind of table df is, how many rows (the number of objects) and columns (the number of variables) there are, and what type of data is in the columns. It is a very useful tool for troubleshooting:
- Does your data frame have the right amount of columns? Lets say you calculated a new variable and wrote it into a column, then there should be one more than before
- Does your data frame have the right amount of rows?
- Is the data in the right format? “chr” means that the column is a character column, which means it is regarded as text. Even if the signs are numbers, R will not be able to use the column for calculations.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="r-instructions-and-help-to-solve-p-r-oblems.html#cb15-1" tabindex="-1"></a><span class="fu">str</span>(df)</span></code></pre></div>
</div>
<div id="change-the-type-of-data-in-a-column" class="section level3 hasAnchor" number="9.1.6">
<h3><span class="header-section-number">9.1.6</span> Change the type of data in a column<a href="r-instructions-and-help-to-solve-p-r-oblems.html#change-the-type-of-data-in-a-column" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Most commonly you want to do this if R has read in data as “character” (text), but you need it to be “numeric” (numbers).
Of note: Typically, if you have a column that should be numeric but isn’t, then there is a problem when reading in the data or creating the column taht should be solved.</p>
<p>Changing a column from “character” to “numeric”:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="r-instructions-and-help-to-solve-p-r-oblems.html#cb16-1" tabindex="-1"></a>df<span class="sc">$</span>col <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(data<span class="sc">$</span>col)</span>
<span id="cb16-2"><a href="r-instructions-and-help-to-solve-p-r-oblems.html#cb16-2" tabindex="-1"></a><span class="co">#Takes the column &quot;col&quot; in the table df, formats it as number and overwrites it with itself. </span></span></code></pre></div>
</div>
</div>
<div id="common-error-messages-and-how-to-solve-them" class="section level2 hasAnchor" number="9.2">
<h2><span class="header-section-number">9.2</span> Common error messages and how to solve them<a href="r-instructions-and-help-to-solve-p-r-oblems.html#common-error-messages-and-how-to-solve-them" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="e1" class="section level3 hasAnchor" number="9.2.1">
<h3><span class="header-section-number">9.2.1</span> Cannot open the connection<a href="r-instructions-and-help-to-solve-p-r-oblems.html#e1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="the-error" class="section level4 unnumbered hasAnchor">
<h4>The error<a href="r-instructions-and-help-to-solve-p-r-oblems.html#the-error" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>When you try to read in a csv file you get the error message below:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="r-instructions-and-help-to-solve-p-r-oblems.html#cb17-1" tabindex="-1"></a><span class="fu">read.csv</span>(<span class="st">&quot;data2.csv&quot;</span>)</span></code></pre></div>
<pre><code>## Warning in file(file, &quot;rt&quot;): cannot open file &#39;data2.csv&#39;: No such file or directory</code></pre>
<pre><code>## Error in file(file, &quot;rt&quot;): cannot open the connection</code></pre>
</div>
<div id="why-is-this-happening" class="section level4 unnumbered hasAnchor">
<h4>Why is this happening?<a href="r-instructions-and-help-to-solve-p-r-oblems.html#why-is-this-happening" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>You just told R to open a file in your working directory that is called data2.csv. R is telling you it can’t do that because the file doesn’t exist. The two major reasons for this are:
1. The file is in a different folder.
2. You mistyped the filename.</p>
</div>
<div id="troubleshooting" class="section level4 unnumbered hasAnchor">
<h4>Troubleshooting<a href="r-instructions-and-help-to-solve-p-r-oblems.html#troubleshooting" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ol style="list-style-type: decimal">
<li>Check where your current working directory is set to.</li>
</ol>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="r-instructions-and-help-to-solve-p-r-oblems.html#cb20-1" tabindex="-1"></a><span class="fu">getwd</span>()</span></code></pre></div>
<p>Is the file in the working directory?</p>
<p>Yes: check for correct spelling.</p>
<p>No: Either use the path to the file in the command OR change the working directory to the folder where the file is in as described in <a href="r-instructions-and-help-to-solve-p-r-oblems.html#setwd">9.1.4</a>.</p>
</div>
</div>
<div id="my-code-doesnt-do-what-it-should-or-fails-with-cryptic-message" class="section level3 hasAnchor" number="9.2.2">
<h3><span class="header-section-number">9.2.2</span> My code doesn’t do what it should or fails with cryptic message<a href="r-instructions-and-help-to-solve-p-r-oblems.html#my-code-doesnt-do-what-it-should-or-fails-with-cryptic-message" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li>Google</li>
<li>If you are taking BB511 at the moment: Ask Iris :)</li>
</ol>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="analyzing-your-data.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": false,
    "facebook": true,
    "twitter": true,
    "linkedin": false,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": "https://github.com/USERNAME/REPO/edit/BRANCH/08-Solving_p-R-oblems.Rmd",
    "text": "Edit"
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": null,
    "text": null
  },
  "download": ["_main.pdf", "_main.epub"],
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "subsection"
  }
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
